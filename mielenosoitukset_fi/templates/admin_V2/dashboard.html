{% extends 'admin_base.html' %}

{% block styles %}
<style>
  /* ------------------ Dashboard Cards ------------------ */
  .info-card {
    transition: transform 0.25s ease, box-shadow 0.25s ease, background 0.25s ease;
    cursor: default;
    border-radius: 12px;
    padding: 1.5rem;
    display: flex;
    align-items: flex-start;
    gap: 1rem;
    background: linear-gradient(135deg, #ffffff 0%, #f8f9fa 100%);
    box-shadow: 0 3px 8px rgba(0,0,0,0.08);
  }

  .info-card:hover {
    transform: translateY(-6px);
    box-shadow: 0 8px 25px rgba(0,0,0,0.15);
    background: linear-gradient(135deg, #ffffff 0%, #e9ecef 100%);
  }

  .info-icon {
    font-size: 2.8rem;
    color: #0d6efd; /* Bootstrap primary */
    transition: transform 0.3s ease, color 0.3s ease, text-shadow 0.3s ease;
    flex-shrink: 0;
  }

  .info-card:hover .info-icon {
    transform: scale(1.3);
    color: #ffc107; /* Bootstrap warning */
    text-shadow: 0 0 8px rgba(255, 193, 7, 0.5);
  }

  .info-card h3 {
    margin-top: 0;
    font-size: 1.35rem;
    font-weight: 600;
    color: #212529;
  }

  .info-card p {
    margin-bottom: 0.5rem;
    color: #495057;
  }

  .btn-dashboard {
    margin-top: 0.75rem;
    font-weight: 500;
    border-radius: 0.5rem;
  }

  .info-grid {
    display: grid;
    gap: 1.5rem;
    grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
    margin-top: 2rem;
  }

  /* Usage Manual Button */
  .manual-btn {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    background-color: #6c757d;
    color: #fff;
    border-radius: 0.5rem;
    padding: 0.5rem 0.75rem;
    text-decoration: none;
    transition: background 0.2s ease, transform 0.2s ease;
  }
  .manual-btn:hover {
    background-color: #495057;
    transform: translateY(-2px);
    text-decoration: none;
  }
</style>
{% endblock %}

{% block main_content %}
<div class="container-fluid py-4">
  <h2 class="mb-4">{{ _('Hallintatyökalut') }}</h2>

  <div class="info-grid">

    <!-- Super Admin Warning -->
    <div class="info-card">
      <i class="fa-solid fa-triangle-exclamation info-icon"></i>
      <div>
        <h3>{{ _('Huomio') }}</h3>
        <p>{{ _('Olet kirjautunut sisään superkäyttäjänä. Kaikki toimenpiteesi voidaan jäljittää sinuun. Käytä oikeuksiasi huolellisesti.') }}</p>
      </div>
    </div>

    <!-- Security -->
    <div class="info-card">
      <i class="fa-solid fa-lock info-icon"></i>
      <div>
        <h3>{{ _('Tietoturva') }}</h3>
        <p>{{ _('Pidä käyttäjätietosi turvassa. Älä koskaan jaa salasanaasi.') }}</p>
      </div>
    </div>

    <!-- Support -->
    <div class="info-card">
      <i class="fa-solid fa-tools info-icon"></i>
      <div>
        <h3>{{ _('Ylläpito') }}</h3>
        <p>{{ _('Ota yhteyttä ylläpitoon ongelmatilanteissa.') }}</p>
        <p>{{ _('Kiireellisissä asioissa helpdesk:') }} 
          <a href="tel:+358123456789">+358 123 456 789</a>
        </p>
      </div>
    </div>

    <!-- Stats -->
    <div class="info-card">
      <i class="fa-solid fa-chart-line info-icon"></i>
      <div class="flex-grow-1">
        <h3>{{ _('Tilastot') }}</h3>
        <p>{{ _('Tarkastele sivuston tilastoja ja käyttäjämääriä.') }}</p>
        <button class="btn btn-primary btn-dashboard" onclick="window.location.href='{{ url_for('admin.stats') }}'">
          <i class="fa-solid fa-chart-column me-1"></i> {{ _('Tilastot') }}
        </button>
      </div>
    </div>

    <!-- Users -->
    <div class="info-card">
      <i class="fa-solid fa-users info-icon"></i>
      <div class="flex-grow-1">
        <h3>{{ _('Käyttäjät') }}</h3>
        <p>{{ _('Hallitse käyttäjiä ja heidän tietojaan.') }}</p>
        <button class="btn btn-primary btn-dashboard" onclick="window.location.href='{{ url_for('admin_user.user_control') }}'">
          <i class="fa-solid fa-user-gear me-1"></i> {{ _('Käyttäjät') }}
        </button>
      </div>
    </div>

    <!-- Usage Manual -->
    <div class="info-card">
      <i class="fa-solid fa-book info-icon"></i>
      <div class="flex-grow-1">
        <h3>{{ _('Käyttöohje') }}</h3>
        <p>{{ _('Katso koko hallintapaneelin käyttöohje ja vinkit.') }}</p>
        <a href="{{ url_for('admin.manual') }}" class="manual-btn">
          <i class="fa-solid fa-book-open"></i> {{ _('Avaa ohje') }}
        </a>
      </div>
    </div>
<!-- Panic Mode -->
<div class="info-card">
  <i class="fa-solid fa-bolt info-icon"></i>
  <div class="flex-grow-1">
    <h3>{{ _('Panic Mode') }}</h3>
    <p>{{ _('Toggle global panic mode for the system.') }}</p>

    {% if panic_mode %}
      <p><strong style="color:red">{{ _('Panic mode is ACTIVE!') }}</strong></p>
      <form method="POST" action="{{ url_for('admin.deactivate_panic') }}">
        <button type="submit" class="btn btn-warning btn-dashboard">
          <i class="fa-solid fa-toggle-off me-1"></i> {{ _('Deactivate') }}
        </button>
      </form>
    {% else %}
      <p><strong style="color:green">{{ _('Panic mode is inactive.') }}</strong></p>
      <form method="POST" action="{{ url_for('admin.activate_panic') }}">
        <button type="submit" class="btn btn-danger btn-dashboard">
          <i class="fa-solid fa-toggle-on me-1"></i> {{ _('Activate') }}
        </button>
      </form>
    {% endif %}
  </div>
</div>

  </div>
</div>
{% endblock %}

{% block scripts %}
<!-- Uses Bootstrap and FontAwesome; no extra scripts needed -->
{% endblock %}
