{% extends 'admin_base.html' %}

{% block main_content %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/admin_demo_control.css') }}">

<div class="container mt-4">
    <h2>Demonstration Control Panel</h2>

    <div class="mb-3">
        <a href="{{ url_for('admin_demo.create_demo') }}" class="button create-demo-button">Create New Demonstration</a>
    </div>

    <form method="GET" class="search-form" action="{{ url_for('admin_demo.demo_control') }}">
        <input type="text" name="search" class="search-input" placeholder="Search demonstrations..." value="{{ search_query }}">
        <button type="submit" class="search-button">Search</button>
    </form>

    {% if demonstrations %}
    <div class="demo-table">
        <div class="demo-table-header">
            <div class="table-cell">Title</div>
            <div class="table-cell">City</div>
            <div class="table-cell">Date</div>
            <div class="table-cell actions-cell-header">Actions</div>
        </div>

        {% for demo in demonstrations %}
        <div class="demo-table-row">
            <div class="table-cell">{{ demo.title }}</div>
            <div class="table-cell">{{ demo.city }}</div>
            <div class="table-cell">{{ demo.date }}</div>
            <div class="table-cell actions-cell">
                <a href="{{ url_for('admin_demo.edit_demo', demo_id=demo._id) }}" class="button edit-button">Edit</a>
                <a href="{{ url_for('admin_demo.confirm_delete_demo', demo_id=demo._id) }}" class="button delete-button">Delete</a>
            </div>
        </div>
        {% endfor %}
    </div>
    {% else %}
    <div class="no-demos">
        <div class="table-cell">No demonstrations found.</div>
    </div>
    {% endif %}
</div>
{% endblock %}
