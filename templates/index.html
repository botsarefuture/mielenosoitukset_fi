{% extends 'base.html' %}
{% import 'macros.html' as macros %}

{% block content %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/index.css') }}">
<link rel="stylesheet" href="{{ url_for('static', filename='css/buttons.css') }}">
<link rel="stylesheet" href="{{ url_for('static', filename='css/demo.css') }}">

<div class="container-main-content">
    {% if current_user.is_authenticated and current_user.can_use("BETA_FEATURES") %}
<!-- Christmas-Themed Section -->   
    <section class="christmas-section" style="display: none;">
        <h2 style="color: #ff0000;">üéÑ Hyv√§√§ joulua! üéÑ</h2>
        <p style="color: #006400;">Tervetuloa viett√§m√§√§n joulun taikaa ja l√§mp√∂√§! Liity mukaan juhlistamaan yhteis√∂llisyytt√§ ja rakkautta.</p>
        <div class="buttons-div">
            <a class="button button-primary" href="{{ url_for('celebrate') }}">Juhli kanssamme!</a>
        </div>
    </section>
    {% endif %}

    <header class="container-welcome container-centered">
        <h2>Tervetuloa Mielenosoitukset.fi:hin</h2>
        <p>Mielenosoitukset.fi tarjoaa ajankohtaiset tiedot mielenosoituksista ymp√§ri Suomen. <br>Pyrimme tekem√§√§n osallistumisesta mielenosoituksiin mahdollisimman vaivatonta ja sujuvaa.</p>
        <div class="buttons-div">
            <a class="button button-primary" href="{{ url_for('info') }}">Lue lis√§√§</a>
            <a class="button button-primary" href="{{ url_for('submit') }}">Ilmoita mielenosoituksesta</a>
        </div>
    </header>



    <!-- Search Form -->
    <section class="container-form">
        <h3>Hae mielenosoituksia</h3>
        <form action="{{ url_for('index') }}" method="GET">
            <input type="text" name="search" placeholder="Hae mielenosoituksia..." aria-label="Hae mielenosoituksia" required>
            <button type="submit">Hae</button>
        </form>
    </section>

    <!-- Pinned Demonstrations Section -->
    {% if pinned_demonstrations %}
    <section>
        <h2>Suosittelemme</h2>
        <div class="container-grid">
            {% for demo in pinned_demonstrations %}
            {{ macros.demo_card(demo) }}
            {% endfor %}
        </div>
    </section>
    {% endif %}

    <!-- Featured Demonstrations Section -->
    <section>
        <h2>Esitellyt mielenosoitukset</h2>
        <div class="container-grid">
            {% if demonstrations %}
            {% for demo in demonstrations[:6] %}
            {{ macros.demo_card(demo) }}
            {% endfor %}
            {% else %}
            <div class="grid-item">Ei mielenosoituksia n√§ytett√§v√§ksi.</div>
            {% endif %}
        </div>
    </section>

    <!-- Button to View All Demonstrations -->
    <div class="buttons-div">
        <a class="button button-primary" href="{{ url_for('demonstrations') }}">N√§yt√§ kaikki mielenosoitukset</a>
    </div>

    
</div>
{% endblock %}
